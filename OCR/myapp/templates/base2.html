{% extends 'base.html' %}

{% block src %}
{% load static %}
<script src="{% static 'bs/js/html2canvas.js' %}"></script>
<script>

    $(function() {
        $("#save").click(function() {
            $.ajax({
                url: '{% url "ocr:cam" %}',
                type: 'GET',
                data: {},
                success: function(response) {
                    alert('OCR 완료')
                    $('#cam img').remove()
                    $('#cam').append(`<img src='./static/photo.jpg'>`)
                }
            })
        })
    })

    
    
</script>
    <style>
        #tr1 td {
            border:3px solid #b9c1d7;
            border-radius:10px;
        }
        #output, #cam{
            width:520px;
            height:520px;
        }
        #btn_div{
            text-align:center;
            padding:60px;
        }
    </style>

{% endblock %}

{% block contents %}

<body class="container" style='overflow: hidden;'>
    <div class='rounded vh-100 m-2 p-2 d-flex justify-content-center align-items-center bg-light'>
        <table>
            <tr id='tr1'>
                <td>
                    <div style='transform: rotate(-90deg); width: 120px;'><h5>OCR result</h5></div>
                </td>
                <td>
                    <div id='cam'>
                        <img src="" alt="">
                    </div>
                </td>
                <td>
                    <div id='output'>
                        <img src="" alt="">
                    </div>
                </td>
            </tr>
            <tr>
                <td colspan='3'>
                    <div id='btn_div'>
                        <button class='btn btn-outline-secondary btn-lg' type='button'>Home</button>
                        <button class='btn btn-secondary btn-lg' type='button' id='save'>Restart</button>
                    </div>
                </td>
            </tr>
        </table> 
    </div>
</body>

{% endblock %}